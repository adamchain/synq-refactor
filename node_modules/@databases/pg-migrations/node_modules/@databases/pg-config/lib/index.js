"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

const cosmiconfig = require("cosmiconfig");

const PgConfig_validator_1 = require("./PgConfig.validator");

const explorer = cosmiconfig('pg');

async function getPgConfig(searchFrom) {
  return parseResult(await explorer.search(searchFrom));
}

exports.getPgConfig = getPgConfig;

function getPgConfigSync(searchFrom) {
  return parseResult(explorer.searchSync(searchFrom));
}

exports.getPgConfigSync = getPgConfigSync;

function readPgConfigSync(filename) {
  return parseResult(explorer.loadSync(filename));
}

exports.readPgConfigSync = readPgConfigSync;

function parseResult(result) {
  return PgConfig_validator_1.default(result ? result.config : {});
}

exports.DEFAULT_CONFIG = PgConfig_validator_1.default({});